#!/bin/bash

# This is just an example
function build {
        echo "This serves as an super evil example."
        sleep 2
        local foo=0
        echo -ne "Doing stuff ..."
        while [ $foo -lt 10 ]; do
                sleep 1
                echo -ne "."
                ((foo++))
        done
        echo ""
}

# Another example, but it's always a good practice to have a help function
function help {
        echo "$0 <task> <args>"
        echo "Tasks:"
        tasks | cat -n
}

# This task needs to left as it is
# This is for external plugins and programs to query the available tasks
function tasks {
        compgen -A function | grep -v "^_"
}

# This is a wrapper for what should be executed, when no args are passed to the
# Taskfile
function default {
        tasks
}

${@:-default}

